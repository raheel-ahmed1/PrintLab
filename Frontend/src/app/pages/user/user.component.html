<app-sidebar></app-sidebar>
<div class="container-fluid ps-6">
  <app-dashboard-head></app-dashboard-head>
  <div class="container-fluid px-0">
    <div>
      <h4>User</h4>
    </div>
  </div>
  <div class="card text-nowrap">
    <p-table
      #dt1
      [value]="userArray"
      dataKey="id"
      [globalFilterFields]="['name']"
    >
      <ng-template pTemplate="caption">
        <div class="d-flex justify-content-end">
          <button
            pButton
            label="Add"
            class="p-button-dark bg-dark"
            icon="pi pi-plus"
            routerLink="/addUser"
          ></button>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th class="text-center">Created At</th>
          <th class="text-center">Email</th>
          <th class="text-center">Name</th>
          <th class="text-center">Phone Number</th>
          <th class="text-center">Cnic Number</th>
          <th class="text-center">Action</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user let-i="rowIndex">
        <tr>
          <td class="text-center">{{ user?.createdAt }}</td>
          <td class="text-center">{{ user?.email }}</td>
          <td class="text-center">{{ user?.name }}</td>
          <td class="text-center">{{ user?.phone }}</td>
          <td class="text-center">{{ user?.cnic }}</td>
          <td class="text-center">
            <div class="btn-group" role="group" aria-label="Second group">
              <button
                type="button"
                class="btn order-table-btn"
                (click)="editUser(user?.id)"
              >
                <i class="fa-solid fa-pen"></i>&nbsp;Edit
              </button>
              <button
                type="button"
                class="btn order-table-btn"
                (click)="deleteUser(user?.id)"
              >
                <i class="fa-solid fa-trash"></i>&nbsp;Delete
              </button>
            </div>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="5" class="text-center">No User Found.</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
<p-toast></p-toast>
